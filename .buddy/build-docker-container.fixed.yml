- pipeline: "build docker container"
  events:
  - type: "PUSH"
    refs:
    - "refs/heads/main"
  fail_on_prepare_env_warning: true
  actions:
  - action: "Lint Dockerfile"
    type: "DOCKERFILE_LINTER"
    local_path: "Dockerfile"
    shell_type: "sh"
  - action: "Build Docker image"
    type: "DOCKERFILE"
    dockerfile_path: ""
    do_not_prune_images: true
    provenance: "MAX"
