<p>Image Name: {{ image_name }}</p>

{% match docker_information %}
{% when Ok(information) %}
<p>Fetch Time: {{ information.fetch_time }}</p>
{% if let Some(digest) = information.response.digest %}
Digest: {{ digest }}
{% else %}
Digest: Not available
{% endif %}

{% match information.response.manifest %}
{% when DockerManifest::Image with (image) %}
<table>
  <thead>
    <tr>
      <th>Size</th>
      <th>Digest</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{ image.config.size }}</td>
      <td>{{ image.config.digest }}</td>
    </tr>
  </tbody>
</table>

{% when DockerManifest::List with (list) %}
<table>
  <thead>
    <tr>
      <th>Architecture</th>
      <th>Os</th>
      <th>Size</th>
      <th>Digest</th>
    </tr>
  </thead>
  <tbody>
    {% for entry in list.manifests %}
    <tr>
      <td>{{ entry.platform.architecture }}</td>
      <td>{{ entry.platform.os }}</td>
      <td>{{ entry.size }}</td>
      <td>{{ entry.digest }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% when DockerManifest::Single with (single) %}
<table>
  <thead>
    <tr>
      <th>Architecture</th>
      <th>Size</th>
      <th>Digest</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>{{ single.architecture }}</td>
    </tr>
  </tbody>
</table>

{% endmatch %}
{% when Err(err) %}
<h4>Error</h4>
<code>
{{ err|ansi_to_html|safe }}
</code>
{% endmatch %}